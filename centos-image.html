
<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />

    <title>Example: CentOS image &#8212; Virtual Machine Image Guide  documentation</title>
    <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="_static/css/basic.css" />
    <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/sphinx_highlight.js"></script>
    <link rel="canonical" href="/openstack-manuals-virtual-machine-image-guide/centos-image.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Example: Ubuntu image" href="ubuntu-image.html" />
    <link rel="prev" title="Use virt-install and connect by using a local VNC client" href="virt-install.html" />
<meta name="viewport" content="width=device-width, initial-scale=1">
<!-- Bootstrap CSS -->
<link href="_static/css/bootstrap.min.css" rel="stylesheet">

<!-- Fonts -->
<link href="_static/css/font-awesome.min.css" rel="stylesheet">

<!-- Custom CSS -->
<link href="_static/css/combined.css" rel="stylesheet">

<!-- Search CSS -->
<link href="_static/css/search.css" rel="stylesheet">

<!-- Pygments CSS -->
<link href="_static/pygments.css" rel="stylesheet">

<!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
<!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
<!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
    <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
<![endif]-->

<!-- Google Analytics -->
<script>
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-17511903-1', 'auto');
ga('send', 'pageview');
</script>
<!-- End Google Analytics -->


  </head><body>

<!-- SOURCE_FILE: https://opendev.org/openstack/openstack-manuals/src/doc/image-guide/source/centos-image.rst -->

<script>
    (function (window, document) {
        var loader = function () {
            var script = document.createElement("script"), tag = document.getElementsByTagName("script")[0];
            script.src = "https://search.openstack.org/widget/embed.min.js?t="+Date.now();
            tag.parentNode.insertBefore(script, tag);
        };
        window.addEventListener ? window.addEventListener("load", loader, false) : window.attachEvent("onload", loader);
    })(window, document);
</script>

<nav class="navbar navbar-default" role="navigation">
  <div class="container">
    <!-- Brand and toggle get grouped for better mobile display -->
    <div class="navbar-header">
      <button class="navbar-toggle" data-target="#bs-example-navbar-collapse-1" data-toggle="collapse" type="button">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <div class="brand-wrapper">
        <a class="navbar-brand" href="https://www.openstack.org/"></a>
      </div>
      <div class="search-icon show"><i class="fa fa-search"></i> Search</div></div>
      <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
      <div class="search-container tiny">
    <div class="openstack-search-bar" data-baseUrl="search.openstack.org" data-context="docs-openstack"></div>
</div>
      <ul class="nav navbar-nav navbar-main show">
        <li class="search-container-mobile">
    <div class="openstack-search-bar" data-baseUrl="search.openstack.org" data-context="docs-openstack"></div>
</li>
        <li> <!--Software -->
          <a href="https://www.openstack.org/software/" class="drop" id="dropdownMenuSoftware">Software <i class="fa fa-caret-down"></i></a>
          <ul class="dropdown-menu" role="menu" aria-labelledby="dropdownMenuSoftware">
            <li role="presentation"><a role="menuitem" tabindex="-1" href="https://www.openstack.org/software/">Overview</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="https://www.openstack.org/software/project-navigator/openstack-components">OpenStack Components</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="https://www.openstack.org/software/project-navigator/sdks">SDKs</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="https://www.openstack.org/software/project-navigator/deployment-tools">Deployment Tools</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="https://www.openstack.org/assets/software/projectmap/openstack-map.pdf" target="_blank">OpenStack Map</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="https://www.openstack.org/software/sample-configs/">Sample Configs</a></li>
          </ul>
        </li>
        <li> <!-- Use Cases -->
          <a href="https://www.openstack.org/use-cases/" class="drop" id="dropdownMenuUsers">Use Cases <i class="fa fa-caret-down"></i></a>
          <ul class="dropdown-menu" role="menu" aria-labelledby="dropdownMenuUsers">
            <li role="presentation"><a role="menuitem" tabindex="-1" href="https://www.openstack.org/use-cases/">Users in Production</a></li>
            <li role="presentation" class="divider"></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="https://www.openstack.org/use-cases/bare-metal/">Ironic Bare Metal</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="https://www.openstack.org/use-cases/edge-computing/">Edge Computing</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="https://www.openstack.org/use-cases/telecoms-and-nfv/">Telecom & NFV</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="https://www.openstack.org/use-cases/science/">Science and HPC</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="https://www.openstack.org/use-cases/containers/">Containers</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="https://www.openstack.org/use-cases/enterprise/">Enterprise</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="https://www.openstack.org/surveys/landing">User Survey</a></li>
          </ul>
        </li>
        <li> <!-- Events -->
          <a href="https://www.openstack.org/events/" class="drop" id="dropdownMenuEvents">Events <i class="fa fa-caret-down"></i></a>
          <ul class="dropdown-menu" role="menu" aria-labelledby="dropdownMenuEvents">
            <li role="presentation"><a role="menuitem" tabindex="-1" href="https://www.openstack.org/summit/">Open Infrastructure Summits</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="https://www.openstack.org/ptg/">Project Teams Gathering</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="https://www.openstack.org/events/opendev-2020/">OpenDev</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="https://www.openstack.org/events/community-events/">Community Events</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="https://www.openstack.org/events/openstackdays">OpenStack & OpenInfra Days</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="https://www.openstack.org/videos/">Summit Videos</a></li>
          </ul>
        </li>
        <li><!-- Community -->
          <a href="https://www.openstack.org/community/" class="drop" id="dropdownMenuCommunity">Community <i class="fa fa-caret-down"></i></a>
          <ul class="dropdown-menu" role="menu" aria-labelledby="dropdownMenuCommunity">
            <li role="presentation"><a role="menuitem" tabindex="-1" href="https://www.openstack.org/community/">Welcome! Start Here</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="https://www.openstack.org/community/tech-committee">OpenStack Technical Committee</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="https://www.openstack.org/community/speakers/">Speakers Bureau</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="http://wiki.openstack.org">OpenStack Wiki</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="https://www.openstack.org/coa/">Get Certified (COA)</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="https://www.openstack.org/community/jobs/">Jobs</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="https://www.openstack.org/marketing/">Marketing Resources</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="https://www.openstack.org/news/">Community News</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="http://superuser.openstack.org">Superuser Magazine</a></li>
            <li role="presentation" class="divider"></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="https://www.openstack.org/community/supporting-organizations/">OpenInfra Foundation Supporting Organizations</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="https://openinfra.dev">Open Infrastructure Foundation (OpenInfra Foundation)</a></li>
          </ul>
        </li>
        <li><!-- Marketplace -->
          <a href="https://www.openstack.orgmarketplace/" class="drop" id="dropdownMenuLearn">Marketplace <i class="fa fa-caret-down"></i></a>
          <ul class="dropdown-menu dropdown-hover" role="menu" aria-labelledby="dropdownMenuEvents">
            <li role="presentation"><a role="menuitem" tabindex="-1" href="https://www.openstack.org/marketplace/training/">Training</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="https://www.openstack.org/marketplace/distros/">Distros & Appliances</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="https://www.openstack.org/marketplace/public-clouds/">Public Clouds</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="https://www.openstack.org/marketplace/hosted-private-clouds/">Hosted Private Clouds</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="https://www.openstack.org/marketplace/remotely-managed-private-clouds/">Remotely Managed Private Clouds</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="https://www.openstack.org/marketplace/consulting/">Consulting & Integrators</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="https://www.openstack.org/marketplace/drivers/">Drivers</a></li>
          </ul>
        </li>
        <li><!-- Blog -->
          <a href="https://www.openstack.org/blog/">Blog</a>
        </li>
        <li><!-- Docs -->
          <a href="http://docs.openstack.org/">Docs</a>
        </li>
        <li> <!-- Join -->
            <li class="join-nav-section">
              <a href="https://openinfra.dev/join/" id="dropdownMenuJoin">Join <i class="fa fa-caret-down"></i></a>
              <ul class="dropdown-menu dropdown-hover" role="menu" aria-labelledby="dropdownMenuJoin" style="display: none;">
                <li role="presentation"><a role="menuitem" tabindex="-1" href="https://openinfra.dev/join/">Sign up for Foundation Membership</a></li>
                <li role="presentation"><a role="menuitem" tabindex="-1" href="https://openinfra.dev/join/">Sponsor the Foundation</a></li>
                <li role="presentation"><a role="menuitem" tabindex="-1" href="https://openinfra.dev">More about the Foundation</a></li>
              </ul>
            </li>
            <li>
              <a href="https://www.openstack.org/Security/login/?BackURL=/home/" class="sign-in-btn">Log In</a>
            </li>
        </li>
      </ul>
    </div>
  </div>
  <!-- /.container -->
</nav>

    <div class="container docs-book-wrapper">
      <div class="row">
        <div class="col-lg-9 col-md-8 col-sm-8 col-lg-push-3 col-md-push-4 col-sm-push-4">
<div class="row docs-title">
  <div class="col-lg-8">
      <h1>Example: CentOS image</h1>
    
  </div>
  <div class="docs-actions">
    
    <a href="virt-install.html"><i class="fa fa-angle-double-left" data-toggle="tooltip" data-placement="top" title="Previous: Use virt-install and connect by using a local VNC client"></i></a>
    
    
    <a href="ubuntu-image.html"><i class="fa fa-angle-double-right" data-toggle="tooltip" data-placement="top" title="Next: Example: Ubuntu image"></i></a>
    
    <a id="pdfLink1" href="" target="_blank" title="Download the manuals as PDF"><i class="fa fa-file-pdf-o" data-toggle="tooltip" data-placement="top" title="Download PDF"></i></a>
    
    <a id="logABugLink1" href="" target="_blank" title="Found an error? Report a bug against this page"><i class="fa fa-bug" data-toggle="tooltip" data-placement="top" title="Report a Bug"></i></a>
    
  </div>
</div>
          <div class="row">
            <div class="col-lg-12">
              <div class="docs-body" role="main">

  <section id="example-centos-image">
<h1>Example: CentOS image<a class="headerlink" href="#example-centos-image" title="Permalink to this heading">¶</a></h1>
<p>This example shows you how to install a CentOS image and focuses
mainly on CentOS 7. Because the CentOS installation process
might differ across versions, the installation steps might
differ if you use a different version of CentOS.</p>
<section id="download-a-centos-install-iso">
<h2>Download a CentOS install ISO<a class="headerlink" href="#download-a-centos-install-iso" title="Permalink to this heading">¶</a></h2>
<ol class="arabic simple">
<li><p>Navigate to the <a class="reference external" href="https://www.centos.org/download/mirrors/">CentOS mirrors</a> page.</p></li>
<li><p>Click one of the <code class="docutils literal notranslate"><span class="pre">HTTP</span></code> links in the right-hand
column next to one of the mirrors.</p></li>
<li><p>Click the folder link of the CentOS version that
you want to use. For example, <code class="docutils literal notranslate"><span class="pre">7/</span></code>.</p></li>
<li><p>Click the <code class="docutils literal notranslate"><span class="pre">isos/</span></code> folder link.</p></li>
<li><p>Click the <code class="docutils literal notranslate"><span class="pre">x86_64/</span></code> folder link for 64-bit images.</p></li>
<li><p>Click the netinstall ISO image that you want to download.
For example, <code class="docutils literal notranslate"><span class="pre">CentOS-7-x86_64-NetInstall-1611.iso</span></code> is a good
choice because it is a smaller image that downloads missing
packages from the Internet during installation.</p></li>
</ol>
</section>
<section id="start-the-installation-process">
<h2>Start the installation process<a class="headerlink" href="#start-the-installation-process" title="Permalink to this heading">¶</a></h2>
<p>Start the installation process using either the <strong class="command">virt-manager</strong>
or the <strong class="command">virt-install</strong> command as described previously.
If you use the <strong class="command">virt-install</strong> command, do not forget to connect your
VNC client to the virtual machine.</p>
<p>Assume that:</p>
<ul class="simple">
<li><p>The name of your virtual machine image is <code class="docutils literal notranslate"><span class="pre">centos</span></code>;
you need this name when you use <strong class="command">virsh</strong> commands
to manipulate the state of the image.</p></li>
<li><p>You saved the netinstall ISO image to the <code class="docutils literal notranslate"><span class="pre">/data/isos</span></code> directory.</p></li>
</ul>
<p>If you use the <strong class="command">virt-install</strong> command, the commands should look
something like this:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp"># </span>qemu-img create -f qcow2 /tmp/centos.qcow2 10G
<span class="gp"># </span>virt-install --virt-type kvm --name centos --ram <span class="m">1024</span> <span class="se">\</span>
  --disk /tmp/centos.qcow2,format<span class="o">=</span>qcow2 <span class="se">\</span>
  --network <span class="nv">network</span><span class="o">=</span>default <span class="se">\</span>
  --graphics vnc,listen<span class="o">=</span><span class="m">0</span>.0.0.0 --noautoconsole <span class="se">\</span>
  --os-type<span class="o">=</span>linux --os-variant<span class="o">=</span>centos7.0 <span class="se">\</span>
  --location<span class="o">=</span>/data/isos/CentOS-7-x86_64-NetInstall-1611.iso
</pre></div>
</div>
</section>
<section id="step-through-the-installation">
<h2>Step through the installation<a class="headerlink" href="#step-through-the-installation" title="Permalink to this heading">¶</a></h2>
<p>At the initial Installer boot menu, choose the
<span class="guilabel">Install CentOS 7</span> option. After the installation program starts,
choose your preferred language and click <span class="guilabel">Continue</span> to get to the
installation summary. Accept the defaults.</p>
<figure class="align-default">
<a class="reference internal image-reference" href="_images/centos-install.png"><img alt="_images/centos-install.png" src="_images/centos-install.png" style="width: 100%;" /></a>
</figure>
<section id="change-the-ethernet-status">
<h3>Change the Ethernet status<a class="headerlink" href="#change-the-ethernet-status" title="Permalink to this heading">¶</a></h3>
<p>The default Ethernet setting is <code class="docutils literal notranslate"><span class="pre">OFF</span></code>. Change the setting of
the Ethernet form <code class="docutils literal notranslate"><span class="pre">OFF</span></code> to <code class="docutils literal notranslate"><span class="pre">ON</span></code>. In particular, ensure that
<code class="docutils literal notranslate"><span class="pre">IPv4</span> <span class="pre">Settings'</span> <span class="pre">Method</span></code> is <code class="docutils literal notranslate"><span class="pre">Automatic</span> <span class="pre">(DHCP)</span></code>, which is the
default.</p>
<figure class="align-default">
<a class="reference internal image-reference" href="_images/centos-tcpip.png"><img alt="_images/centos-tcpip.png" src="_images/centos-tcpip.png" style="width: 100%;" /></a>
</figure>
</section>
<section id="hostname">
<h3>Hostname<a class="headerlink" href="#hostname" title="Permalink to this heading">¶</a></h3>
<p>The installer allows you to choose a host name.
The default (<code class="docutils literal notranslate"><span class="pre">localhost.localdomain</span></code>) is fine.
You install the <code class="docutils literal notranslate"><span class="pre">cloud-init</span></code> package later,
which sets the host name on boot when a new instance
is provisioned using this image.</p>
</section>
<section id="point-the-installer-to-a-centos-web-server">
<h3>Point the installer to a CentOS web server<a class="headerlink" href="#point-the-installer-to-a-centos-web-server" title="Permalink to this heading">¶</a></h3>
<p>Depending on the version of CentOS, the net installer requires
the user to specify either a URL or the web site and
a CentOS directory that corresponds to one of the CentOS mirrors.
If the installer asks for a single URL, a valid URL might be
<code class="docutils literal notranslate"><span class="pre">http://mirror.umd.edu/centos/7/os/x86_64</span></code>.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Consider using other mirrors as an alternative to <code class="docutils literal notranslate"><span class="pre">mirror.umd.edu</span></code>.</p>
</div>
<figure class="align-default">
<a class="reference internal image-reference" href="_images/centos-url-setup.png"><img alt="_images/centos-url-setup.png" src="_images/centos-url-setup.png" style="width: 100%;" /></a>
</figure>
<p>If the installer asks for web site name and CentOS directory
separately, you might enter:</p>
<ul class="simple">
<li><p>Web site name: <code class="docutils literal notranslate"><span class="pre">mirror.umd.edu</span></code></p></li>
<li><p>CentOS directory: <code class="docutils literal notranslate"><span class="pre">centos/7/os/x86_64</span></code></p></li>
</ul>
<p>See <a class="reference external" href="https://www.centos.org/download/mirrors/">CentOS mirror page</a>
to get a full list of mirrors, click on the <code class="docutils literal notranslate"><span class="pre">HTTP</span></code> link
of a mirror to retrieve the web site name of a mirror.</p>
</section>
<section id="storage-devices">
<h3>Storage devices<a class="headerlink" href="#storage-devices" title="Permalink to this heading">¶</a></h3>
<p>If prompted about which type of devices your installation uses,
choose <span class="guilabel">Virtio Block Device</span>.</p>
</section>
<section id="partition-the-disks">
<h3>Partition the disks<a class="headerlink" href="#partition-the-disks" title="Permalink to this heading">¶</a></h3>
<p>There are different options for partitioning the disks.
The default installation uses LVM partitions, and creates
three partitions (<code class="docutils literal notranslate"><span class="pre">/boot</span></code>, <code class="docutils literal notranslate"><span class="pre">/</span></code>, <code class="docutils literal notranslate"><span class="pre">swap</span></code>), which works fine.
Alternatively, you might want to create a single ext4
partition that is mounted to <code class="docutils literal notranslate"><span class="pre">/</span></code>, which also works fine.</p>
<p>If unsure, use the default partition scheme for the installer.
While no scheme is inherently better than another, having the
partition that you want to dynamically grow at the end of the
list will allow it to grow without crossing another
partition’s boundary.</p>
</section>
<section id="select-installation-option">
<h3>Select installation option<a class="headerlink" href="#select-installation-option" title="Permalink to this heading">¶</a></h3>
<p>Step through the installation, using the default options.
The simplest thing to do is to choose the <code class="docutils literal notranslate"><span class="pre">Minimal</span> <span class="pre">Install</span></code>
install, which installs an SSH server.</p>
</section>
<section id="set-the-root-password">
<h3>Set the root password<a class="headerlink" href="#set-the-root-password" title="Permalink to this heading">¶</a></h3>
<p>During the installation, remember to set the root password when prompted.</p>
</section>
<section id="detach-the-cd-rom-and-reboot">
<h3>Detach the CD-ROM and reboot<a class="headerlink" href="#detach-the-cd-rom-and-reboot" title="Permalink to this heading">¶</a></h3>
<p>Wait until the installation is complete.</p>
<figure class="align-default">
<a class="reference internal image-reference" href="_images/centos-complete.png"><img alt="_images/centos-complete.png" src="_images/centos-complete.png" style="width: 100%;" /></a>
</figure>
<p>To eject a disk by using the <strong class="command">virsh</strong> command,
libvirt requires that you attach an empty disk at the same target
that the CD-ROM was previously attached, which may be <code class="docutils literal notranslate"><span class="pre">hda</span></code>.
You can confirm the appropriate target using the
<strong class="command">virsh dumpxml vm-image</strong> command.</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp"># </span>virsh dumpxml centos
<span class="go">&lt;domain type=&#39;kvm&#39; id=&#39;19&#39;&gt;</span>
<span class="go">  &lt;name&gt;centos&lt;/name&gt;</span>
<span class="go">...</span>
<span class="go">    &lt;disk type=&#39;block&#39; device=&#39;cdrom&#39;&gt;</span>
<span class="go">      &lt;driver name=&#39;qemu&#39; type=&#39;raw&#39;/&gt;</span>
<span class="go">      &lt;target dev=&#39;hda&#39; bus=&#39;ide&#39;/&gt;</span>
<span class="go">      &lt;readonly/&gt;</span>
<span class="go">      &lt;address type=&#39;drive&#39; controller=&#39;0&#39; bus=&#39;1&#39; target=&#39;0&#39; unit=&#39;0&#39;/&gt;</span>
<span class="go">    &lt;/disk&gt;</span>
<span class="go">...</span>
<span class="go">&lt;/domain&gt;</span>
</pre></div>
</div>
<p>Run the following commands from the host to eject the disk
and reboot using <code class="docutils literal notranslate"><span class="pre">virsh</span></code>, as root. If you are using <code class="docutils literal notranslate"><span class="pre">virt-manager</span></code>,
the commands below will work, but you can also use the GUI to detach
and reboot it by manually stopping and starting.</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp"># </span>virsh attach-disk --type cdrom --mode <span class="nb">readonly</span> centos <span class="s2">&quot;&quot;</span> hda
<span class="gp"># </span>virsh reboot centos
</pre></div>
</div>
</section>
</section>
<section id="install-the-acpi-service">
<h2>Install the ACPI service<a class="headerlink" href="#install-the-acpi-service" title="Permalink to this heading">¶</a></h2>
<p>To enable the hypervisor to reboot or shutdown an instance,
you must install and run the <code class="docutils literal notranslate"><span class="pre">acpid</span></code> service on the guest system.</p>
<p>Log in as root to the CentOS guest and run the following commands
to install the ACPI service and configure it to start when the
system boots:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp"># </span>yum install acpid
<span class="gp"># </span>systemctl <span class="nb">enable</span> acpid
</pre></div>
</div>
</section>
<section id="configure-to-fetch-metadata">
<h2>Configure to fetch metadata<a class="headerlink" href="#configure-to-fetch-metadata" title="Permalink to this heading">¶</a></h2>
<p>An instance must interact with the metadata service to perform
several tasks on start up. For example, the instance must get
the ssh public key and run the user data script. To ensure that
the instance performs these tasks, use one of these methods:</p>
<ul class="simple">
<li><p>Install a <code class="docutils literal notranslate"><span class="pre">cloud-init</span></code> RPM, which is a port of the Ubuntu
<a class="reference external" href="https://launchpad.net/cloud-init">cloud-init</a> package.
This is the recommended approach.</p></li>
<li><p>Modify the <code class="docutils literal notranslate"><span class="pre">/etc/rc.local</span></code> file to fetch desired information from
the metadata service, as described in the next section.</p></li>
</ul>
</section>
<section id="use-cloud-init-to-fetch-the-public-key">
<h2>Use cloud-init to fetch the public key<a class="headerlink" href="#use-cloud-init-to-fetch-the-public-key" title="Permalink to this heading">¶</a></h2>
<p>The <code class="docutils literal notranslate"><span class="pre">cloud-init</span></code> package automatically fetches the public key
from the metadata server and places the key in an account.
Install <code class="docutils literal notranslate"><span class="pre">cloud-init</span></code> inside the CentOS guest by
running:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp"># </span>yum install cloud-init
</pre></div>
</div>
<p>The account varies by distribution. On CentOS-based virtual machines,
the account is called <code class="docutils literal notranslate"><span class="pre">centos</span></code>.</p>
<p>You can change the name of the account used by <code class="docutils literal notranslate"><span class="pre">cloud-init</span></code>
by editing the <code class="docutils literal notranslate"><span class="pre">/etc/cloud/cloud.cfg</span></code> file and adding a line
with a different user. For example, to configure <code class="docutils literal notranslate"><span class="pre">cloud-init</span></code>
to put the key in an account named <code class="docutils literal notranslate"><span class="pre">admin</span></code>, use the following
syntax in the configuration file:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">users:</span>
<span class="go">  - name: admin</span>
<span class="go">    (...)</span>
</pre></div>
</div>
</section>
<section id="install-cloud-utils-growpart-to-allow-partitions-to-resize">
<h2>Install cloud-utils-growpart to allow partitions to resize<a class="headerlink" href="#install-cloud-utils-growpart-to-allow-partitions-to-resize" title="Permalink to this heading">¶</a></h2>
<p>In order for the root partition to properly resize, install the
<code class="docutils literal notranslate"><span class="pre">cloud-utils-growpart</span></code> package, which contains the proper tools
to allow the disk to resize using cloud-init.</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp"># </span>yum install cloud-utils-growpart
</pre></div>
</div>
</section>
<section id="write-a-script-to-fetch-the-public-key-if-no-cloud-init">
<h2>Write a script to fetch the public key (if no cloud-init)<a class="headerlink" href="#write-a-script-to-fetch-the-public-key-if-no-cloud-init" title="Permalink to this heading">¶</a></h2>
<p>If you are not able to install the <code class="docutils literal notranslate"><span class="pre">cloud-init</span></code> package in your
image, to fetch the ssh public key and add it to the root account,
edit the <code class="docutils literal notranslate"><span class="pre">/etc/rc.d/rc.local</span></code> file and add the following lines
before the line <code class="docutils literal notranslate"><span class="pre">touch</span> <span class="pre">/var/lock/subsys/local</span></code>:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="k">if</span> <span class="o">[</span> ! -d /root/.ssh <span class="o">]</span><span class="p">;</span> <span class="k">then</span>
  mkdir -p /root/.ssh
  chmod <span class="m">700</span> /root/.ssh
<span class="k">fi</span>

<span class="c1"># Fetch public key using HTTP</span>
<span class="nv">ATTEMPTS</span><span class="o">=</span><span class="m">30</span>
<span class="nv">FAILED</span><span class="o">=</span><span class="m">0</span>
<span class="k">while</span> <span class="o">[</span> ! -f /root/.ssh/authorized_keys <span class="o">]</span><span class="p">;</span> <span class="k">do</span>
  curl -f http://169.254.169.254/latest/meta-data/public-keys/0/openssh-key <span class="se">\</span>
    &gt; /tmp/metadata-key <span class="m">2</span>&gt;/dev/null
  <span class="k">if</span> <span class="o">[</span> <span class="se">\$</span>? -eq <span class="m">0</span> <span class="o">]</span><span class="p">;</span> <span class="k">then</span>
    cat /tmp/metadata-key &gt;&gt; /root/.ssh/authorized_keys
    chmod <span class="m">0600</span> /root/.ssh/authorized_keys
    restorecon /root/.ssh/authorized_keys
    rm -f /tmp/metadata-key
    <span class="nb">echo</span> <span class="s2">&quot;Successfully retrieved public key from instance metadata&quot;</span>
    <span class="nb">echo</span> <span class="s2">&quot;*****************&quot;</span>
    <span class="nb">echo</span> <span class="s2">&quot;AUTHORIZED KEYS&quot;</span>
    <span class="nb">echo</span> <span class="s2">&quot;*****************&quot;</span>
    cat /root/.ssh/authorized_keys
    <span class="nb">echo</span> <span class="s2">&quot;*****************&quot;</span>
  <span class="k">fi</span>
<span class="k">done</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Some VNC clients replace the colon (<code class="docutils literal notranslate"><span class="pre">:</span></code>) with a semicolon
(<code class="docutils literal notranslate"><span class="pre">;</span></code>) and the underscore (<code class="docutils literal notranslate"><span class="pre">_</span></code>) with a hyphen (<code class="docutils literal notranslate"><span class="pre">-</span></code>).
Make sure to specify <code class="docutils literal notranslate"><span class="pre">http:</span></code> and not <code class="docutils literal notranslate"><span class="pre">http;</span></code>.
Make sure to specify <code class="docutils literal notranslate"><span class="pre">authorized_keys</span></code> and not <code class="docutils literal notranslate"><span class="pre">authorized-keys</span></code>.</p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The previous script only gets the ssh public key from the
metadata server. It does not get user data, which is optional
data that can be passed by the user when requesting a new instance.
User data is often used to run a custom script when an instance boots.</p>
<p>As the OpenStack metadata service is compatible with version
2009-04-04 of the Amazon EC2 metadata service, consult the
Amazon EC2 documentation on <a class="reference external" href="http://docs.amazonwebservices.com/AWSEC2/2009-04-04/UserGuide/AESDG-chapter-instancedata.html">Using Instance Metadata</a> for details on how to get user data.</p>
</div>
</section>
<section id="disable-the-zeroconf-route">
<h2>Disable the zeroconf route<a class="headerlink" href="#disable-the-zeroconf-route" title="Permalink to this heading">¶</a></h2>
<p>For the instance to access the metadata service,
you must disable the default zeroconf route:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp"># </span><span class="nb">echo</span> <span class="s2">&quot;NOZEROCONF=yes&quot;</span> &gt;&gt; /etc/sysconfig/network
</pre></div>
</div>
</section>
<section id="configure-console">
<h2>Configure console<a class="headerlink" href="#configure-console" title="Permalink to this heading">¶</a></h2>
<p>For the <strong class="command">nova console-log</strong> command to work properly
on CentOS 7, you might need to do the following steps:</p>
<ol class="arabic">
<li><p>Edit the <code class="docutils literal notranslate"><span class="pre">/etc/default/grub</span></code> file and configure the
<code class="docutils literal notranslate"><span class="pre">GRUB_CMDLINE_LINUX</span></code> option. Delete the <code class="docutils literal notranslate"><span class="pre">rhgb</span> <span class="pre">quiet</span></code>
and add <code class="docutils literal notranslate"><span class="pre">console=tty0</span> <span class="pre">console=ttyS0,115200n8</span></code> to the option.</p>
<p>For example:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>...
GRUB_CMDLINE_LINUX=&quot;crashkernel=auto rd.lvm.lv=cl/root rd.lvm.lv=cl/swap console=tty0 console=ttyS0,115200n8&quot;
</pre></div>
</div>
</li>
<li><p>Run the following command to save the changes:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp"># </span>grub2-mkconfig -o /boot/grub2/grub.cfg
<span class="go">Generating grub configuration file ...</span>
<span class="go">Found linux image: /boot/vmlinuz-3.10.0-229.14.1.el7.x86_64</span>
<span class="go">Found initrd image: /boot/initramfs-3.10.0-229.14.1.el7.x86_64.img</span>
<span class="go">Found linux image: /boot/vmlinuz-3.10.0-229.4.2.el7.x86_64</span>
<span class="go">Found initrd image: /boot/initramfs-3.10.0-229.4.2.el7.x86_64.img</span>
<span class="go">Found linux image: /boot/vmlinuz-3.10.0-229.el7.x86_64</span>
<span class="go">Found initrd image: /boot/initramfs-3.10.0-229.el7.x86_64.img</span>
<span class="go">Found linux image: /boot/vmlinuz-0-rescue-605f01abef434fb98dd1309e774b72ba</span>
<span class="go">Found initrd image: /boot/initramfs-0-rescue-605f01abef434fb98dd1309e774b72ba.img</span>
<span class="go">done</span>
</pre></div>
</div>
</li>
</ol>
</section>
<section id="shut-down-the-instance">
<h2>Shut down the instance<a class="headerlink" href="#shut-down-the-instance" title="Permalink to this heading">¶</a></h2>
<p>From inside the instance, run as root:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp"># </span>poweroff
</pre></div>
</div>
</section>
<section id="clean-up-remove-mac-address-details">
<h2>Clean up (remove MAC address details)<a class="headerlink" href="#clean-up-remove-mac-address-details" title="Permalink to this heading">¶</a></h2>
<p>The operating system records the MAC address of the virtual Ethernet
card in locations such as <code class="docutils literal notranslate"><span class="pre">/etc/sysconfig/network-scripts/ifcfg-eth0</span></code>
during the instance process. However, each time the image boots up, the virtual
Ethernet card will have a different MAC address, so this information must
be deleted from the configuration file.</p>
<p>There is a utility called <strong class="command">virt-sysprep</strong>, that performs
various cleanup tasks such as removing the MAC address references.
It will clean up a virtual machine image in place:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp"># </span>virt-sysprep -d centos
</pre></div>
</div>
</section>
<section id="undefine-the-libvirt-domain">
<h2>Undefine the libvirt domain<a class="headerlink" href="#undefine-the-libvirt-domain" title="Permalink to this heading">¶</a></h2>
<p>Now that you can upload the image to the Image service, you no
longer need to have this virtual machine image managed by libvirt.
Use the <strong class="command">virsh undefine vm-image</strong> command to inform libvirt:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp"># </span>virsh undefine centos
</pre></div>
</div>
</section>
<section id="image-is-complete">
<h2>Image is complete<a class="headerlink" href="#image-is-complete" title="Permalink to this heading">¶</a></h2>
<p>The underlying image file that you created with the
<strong class="command">qemu-img create</strong> command is ready to be uploaded.
For example, you can upload the <code class="docutils literal notranslate"><span class="pre">/tmp/centos.qcow2</span></code>
image to the Image service by using the <strong class="command">openstack image create</strong>
command. For more information, see the
<a class="reference external" href="https://docs.openstack.org/python-openstackclient/latest/cli/command-objects/image.html">python-openstackclient command list</a>.</p>
</section>
</section>


              </div>
            </div>
          </div>
          <div class="docs-actions">
          
            <a href="virt-install.html"><i class="fa fa-angle-double-left" data-toggle="tooltip" data-placement="top" title="Previous: Use virt-install and connect by using a local VNC client"></i></a>
          
          
            <a href="ubuntu-image.html"><i class="fa fa-angle-double-right" data-toggle="tooltip" data-placement="top" title="Next: Example: Ubuntu image"></i></a>
          
          <a id="pdfLink2" href="" target="_blank" title="Download the manuals as PDF"><i class="fa fa-file-pdf-o" data-toggle="tooltip" data-placement="top" title="Download PDF"></i></a>
          
            <a id="logABugLink3" href="" target="_blank" title="Found an error? Report a bug against this page"><i class="fa fa-bug" data-toggle="tooltip" data-placement="top" title="Report a Bug"></i></a>
          
          </div>
          <div class="row docs-byline bottom">
            <div class="docs-updated">this page last updated: 2022-12-26 10:49:07</div>
          </div>
          <div class="row">
            <div class="col-lg-8 col-md-8 col-sm-8 docs-license">
<a href="https://creativecommons.org/licenses/by/3.0/">
 <img src="_static/images/docs/license.png" alt="Creative Commons Attribution 3.0 License"/>
</a>
<p>
 Except where otherwise noted, this document is licensed under
 <a href="https://creativecommons.org/licenses/by/3.0/">Creative Commons
 Attribution 3.0 License</a>. See all <a href="https://www.openstack.org/legal">
 OpenStack Legal Documents</a>.
</p>
            </div>
            <div class="col-lg-4 col-md-4 col-sm-4 docs-actions-wrapper">
            <!-- ID buglinkbottom added so that pre-filled doc bugs
                 are sent to Launchpad projects related to the
                 document -->
              <a href="#" id="logABugLink2" class="docs-footer-actions"><i class="fa fa-bug"></i> found an error? report a bug</a>
            </div>
          </div>
        </div>
<div class="col-lg-3 col-md-4 col-sm-4 col-lg-pull-9 col-md-pull-8 col-sm-pull-8 docs-sidebar">
  <div class="btn-group docs-sidebar-releases">
    <button onclick="location.href='/'" class="btn docs-sidebar-home" data-toggle="tooltip" data-placement="top" title="OpenStack Docs Home"><i class="fa fa-arrow-circle-o-left"></i></button>
<button href="#" type="button" data-toggle="dropdown" class="btn docs-sidebar-release-select">OpenStack Documentation<i class="fa fa-caret-down"></i></button>
    <ul class="dropdown-menu docs-sidebar-dropdown" role="menu" aria-labelledby="dLabel">
      <li role="presentation" class="dropdown-header">Guides</li>
      <li role="presentation"><a role="menuitem" tabindex="-1" href="https://docs.openstack.org/index.html#install-guides">Install Guides</a></li>
      <li role="presentation"><a role="menuitem" tabindex="-1" href="https://docs.openstack.org/index.html#user-guides">User Guides</a></li>
      <li role="presentation"><a role="menuitem" tabindex="-1" href="https://docs.openstack.org/index.html#configuration-guides">Configuration Guides</a></li>
      <li role="presentation"><a role="menuitem" tabindex="-1" href="https://docs.openstack.org/index.html#ops-and-admin-guides">Operations and Administration Guides</a></li>
      <li role="presentation"><a role="menuitem" tabindex="-1" href="https://docs.openstack.org/index.html#api-guides">API Guides</a></li>
      <li role="presentation"><a role="menuitem" tabindex="-1" href="https://docs.openstack.org/index.html#contributor-guides">Contributor Guides</a></li>
      <li role="presentation" class="dropdown-header">Languages</li>
      <li role="presentation"><a role="menuitem" tabindex="-1" href="https://docs.openstack.org/de/">Deutsch (German)</a></li>
      <li role="presentation"><a role="menuitem" tabindex="-1" href="https://docs.openstack.org/fr/">Français (French)</a></li>
      <li role="presentation"><a role="menuitem" tabindex="-1" href="https://docs.openstack.org/id/">Bahasa Indonesia (Indonesian)</a></li>
      <li role="presentation"><a role="menuitem" tabindex="-1" href="https://docs.openstack.org/it/">Italiano (Italian)</a></li>
      <li role="presentation"><a role="menuitem" tabindex="-1" href="https://docs.openstack.org/ja/">日本語 (Japanese)</a></li>
      <li role="presentation"><a role="menuitem" tabindex="-1" href="https://docs.openstack.org/ko_KR/">한국어 (Korean)</a></li>
      <li role="presentation"><a role="menuitem" tabindex="-1" href="https://docs.openstack.org/pt_BR/">Português (Portuguese)</a></li>
      <li role="presentation"><a role="menuitem" tabindex="-1" href="https://docs.openstack.org/tr_TR/">Türkçe (Türkiye)</a></li>
      <li role="presentation"><a role="menuitem" tabindex="-1" href="https://docs.openstack.org/zh_CN/">简体中文 (Simplified Chinese)</a></li>
    </ul>
  </div>
  <div class="docs-sidebar-toc">
    <div class="docs-sidebar-section" id="table-of-contents">
      <a href="index.html" class="docs-sidebar-section-title"><h4>Virtual Machine Image Guide </h4></a>
      <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="common/conventions.html">Conventions</a></li>
<li class="toctree-l1"><a class="reference internal" href="introduction.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="obtain-images.html">Get images</a></li>
<li class="toctree-l1"><a class="reference internal" href="openstack-images.html">Image requirements</a></li>
<li class="toctree-l1"><a class="reference internal" href="modify-images.html">Modify images</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="create-images-manually.html">Create images manually</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="net-running.html">Verify the libvirt default network is running</a></li>
<li class="toctree-l2"><a class="reference internal" href="virt-manager.html">Use the virt-manager X11 GUI</a></li>
<li class="toctree-l2"><a class="reference internal" href="virt-install.html">Use virt-install and connect by using a local VNC client</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Example: CentOS image</a></li>
<li class="toctree-l2"><a class="reference internal" href="ubuntu-image.html">Example: Ubuntu image</a></li>
<li class="toctree-l2"><a class="reference internal" href="fedora-image.html">Example: Fedora image</a></li>
<li class="toctree-l2"><a class="reference internal" href="windows-image.html">Example: Microsoft Windows image</a></li>
<li class="toctree-l2"><a class="reference internal" href="freebsd-image.html">Example: FreeBSD image</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="create-images-automatically.html">Tool support for image creation</a></li>
<li class="toctree-l1"><a class="reference internal" href="convert-images.html">Converting between image formats</a></li>
<li class="toctree-l1"><a class="reference internal" href="share-images.html">Image sharing</a></li>
<li class="toctree-l1"><a class="reference internal" href="common/appendix.html">Appendix</a></li>
</ul>

    </div>

  <div class="docs-sidebar-toc">
    <div class="docs-sidebar-section" id="local-table-of-contents">
      <h4 class="docs-sidebar-section-title">Page Contents</h4>
      <ul>
<li><a class="reference internal" href="#">Example: CentOS image</a><ul>
<li><a class="reference internal" href="#download-a-centos-install-iso">Download a CentOS install ISO</a></li>
<li><a class="reference internal" href="#start-the-installation-process">Start the installation process</a></li>
<li><a class="reference internal" href="#step-through-the-installation">Step through the installation</a><ul>
<li><a class="reference internal" href="#change-the-ethernet-status">Change the Ethernet status</a></li>
<li><a class="reference internal" href="#hostname">Hostname</a></li>
<li><a class="reference internal" href="#point-the-installer-to-a-centos-web-server">Point the installer to a CentOS web server</a></li>
<li><a class="reference internal" href="#storage-devices">Storage devices</a></li>
<li><a class="reference internal" href="#partition-the-disks">Partition the disks</a></li>
<li><a class="reference internal" href="#select-installation-option">Select installation option</a></li>
<li><a class="reference internal" href="#set-the-root-password">Set the root password</a></li>
<li><a class="reference internal" href="#detach-the-cd-rom-and-reboot">Detach the CD-ROM and reboot</a></li>
</ul>
</li>
<li><a class="reference internal" href="#install-the-acpi-service">Install the ACPI service</a></li>
<li><a class="reference internal" href="#configure-to-fetch-metadata">Configure to fetch metadata</a></li>
<li><a class="reference internal" href="#use-cloud-init-to-fetch-the-public-key">Use cloud-init to fetch the public key</a></li>
<li><a class="reference internal" href="#install-cloud-utils-growpart-to-allow-partitions-to-resize">Install cloud-utils-growpart to allow partitions to resize</a></li>
<li><a class="reference internal" href="#write-a-script-to-fetch-the-public-key-if-no-cloud-init">Write a script to fetch the public key (if no cloud-init)</a></li>
<li><a class="reference internal" href="#disable-the-zeroconf-route">Disable the zeroconf route</a></li>
<li><a class="reference internal" href="#configure-console">Configure console</a></li>
<li><a class="reference internal" href="#shut-down-the-instance">Shut down the instance</a></li>
<li><a class="reference internal" href="#clean-up-remove-mac-address-details">Clean up (remove MAC address details)</a></li>
<li><a class="reference internal" href="#undefine-the-libvirt-domain">Undefine the libvirt domain</a></li>
<li><a class="reference internal" href="#image-is-complete">Image is complete</a></li>
</ul>
</li>
</ul>

    </div>
  </div>
  </div>
</div>
      </div>
    </div>
<footer>
  <div class="container">
    <div class="row footer-links">
      <div class="col-lg-2 col-sm-2">
        <h3>OpenStack</h3>
        <ul>
          <li><a href="https://openstack.org/projects/">Projects</a></li>
          <li><a href="https://www.openstack.org/software/security/">OpenStack Security</a></li>
          <li><a href="https://openstack.org/projects/openstack-faq/">Common Questions</a></li>
          <li><a href="https://openstack.org/blog/">Blog</a></li>g
          <li><a href="https://openstack.org/news/">News</a></li>
        </ul>
      </div>
      <div class="col-lg-2 col-sm-2">
        <h3>Community</h3>
        <ul>
          <li><a href="https://openstack.org/community/">User Groups</a></li>
          <li><a href="https://openstack.org/community/events/">Events</a></li>
          <li><a href="https://openstack.org/community/jobs/">Jobs</a></li>
          <li><a href="https://openstack.org/foundation/companies/">Companies</a></li>
          <li><a href="https://docs.openstack.org/contributors">Contribute</a></li>
        </ul>
      </div>
      <div class="col-lg-2 col-sm-2">
        <h3>Documentation</h3>
        <ul>
          <li><a href="https://docs.openstack.org">OpenStack Manuals</a></li>
          <li><a href="https://openstack.org/software/start/">Getting Started</a></li>
          <li><a href="https://developer.openstack.org">API Documentation</a></li>
          <li><a href="https://wiki.openstack.org">Wiki</a></li>
        </ul>
      </div>
      <div class="col-lg-2 col-sm-2">
        <h3>Branding & Legal</h3>
        <ul>
          <li><a href="https://openstack.org/brand/">Logos & Guidelines</a></li>
          <li><a href="https://openstack.org/brand/openstack-trademark-policy/">Trademark Policy</a></li>
          <li><a href="https://openstack.org/privacy/">Privacy Policy</a></li>
          <li><a href="https://wiki.openstack.org/wiki/How_To_Contribute#Contributor_License_Agreement">OpenStack CLA</a></li>
        </ul>
      </div>
      <div class="col-lg-4 col-sm-4">
        <h3>Stay In Touch</h3>
        <a href="https://twitter.com/OpenStack" target="_blank" class="social-icons footer-twitter"></a>
        <a href="https://www.facebook.com/openstack" target="_blank" class="social-icons footer-facebook"></a>
        <a href="https://www.linkedin.com/company/openstack" target="_blank" class="social-icons footer-linkedin"></a>
        <a href="https://www.youtube.com/user/OpenStackFoundation" target="_blank" class="social-icons footer-youtube"></a>
        <p class="fine-print">
          The OpenStack project is provided under the
          <a href="https://www.apache.org/licenses/LICENSE-2.0">Apache 2.0 license</a>. Openstack.org is powered by
          <a href="https://rackspace.com" target="_blank">Rackspace Cloud Computing</a>.
        </p>
      </div>
    </div>
  </div>
</footer>
<!-- jQuery -->
<script type="text/javascript" src="_static/js/jquery-3.2.1.min.js"></script>

<!-- Bootstrap JavaScript -->
<script type="text/javascript" src="_static/js/bootstrap.min.js"></script>

<!-- The rest of the JS -->
<script type="text/javascript" src="_static/js/navigation.js"></script>

<!-- Docs JS -->
<script type="text/javascript" src="_static/js/docs.js"></script>

<!-- standard sphinx include libraries, which allow search highlighting -->
<script type="text/javascript" src="_static/underscore.js"></script>
<script type="text/javascript" src="_static/doctools.js"></script>
<script type="text/javascript" src="_static/searchtools.js"></script>
<script type="text/javascript" src="_static/language_data.js"></script>

<script type="text/javascript">
    var DOCUMENTATION_OPTIONS = {
      URL_ROOT:    './',
      VERSION:     '',
      COLLAPSE_INDEX: false,
      FILE_SUFFIX: '.html',
      LINK_SUFFIX: '.html',
      SOURCELINK_SUFFIX: '.txt',
      HAS_SOURCE:  true
    };
</script>

<!-- Javascript for page -->
<script language="JavaScript">
  /* Build a description of this page including SHA, source location on git
   * repo, build time and the project's launchpad bug tag. Set the HREF of the
   * bug buttons
   */
    var lineFeed = "%0A";
    var gitURL = "Source: Can't derive source file URL";

    /* there have been cases where "pagename" wasn't set; better check for it */
    /* "giturl" is the URL of the source file on Git and is auto-generated by
     * openstackdocstheme.
     *
     * "pagename" is a standard sphinx parameter containing the name of
     * the source file, without extension.
     */

    var sourceFile = "centos-image" + ".rst";
    gitURL = "Source: https://opendev.org/openstack/openstack-manuals/src/doc/image-guide/source" + "/" + sourceFile;

    /* gitsha, project and bug_tag rely on variables in conf.py */
    var gitSha = "SHA: bf388c77ad0e3655b1c07b7f3d325a61dee86c6f";
    var repositoryName = "openstack/openstack-manuals";
    var bugProject = "openstack-manuals";
    var bugTitle = "Example: CentOS image in Virtual Machine Image Guide";
    var fieldTags = "image-guide";
    var useStoryboard = "";

    /* "last_updated" is the build date and time. It relies on the
       conf.py variable "html_last_updated_fmt", which should include
       year/month/day as well as hours and minutes                   */
    var buildstring = "Release:  on 2022-12-26 10:49:07";

    var fieldComment = encodeURI(buildstring) +
                       lineFeed + encodeURI(gitSha) +
                       lineFeed + encodeURI(gitURL) ;

    logABug(bugTitle, bugProject, fieldComment, fieldTags, repositoryName, useStoryboard);
    var currentSourceFile = "centos-image";
    var pdfFileName = "ImageGuide.pdf";
    pdfLink(currentSourceFile, pdfFileName);
</script>


  </body>
</html>